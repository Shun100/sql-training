# 制約

1. 主キー制約(プライマリーキー制約)
2. ユニーク制約
3. NOT NULL制約
4. 外部キー制約
5. チェック制約

## 1. 主キー制約
- 重複する値やNULL値を格納させないための制約
- テーブル毎に1つだけ設定可能
- 制約対象には自動的にインデックスが作成される
- 構文
  ``` psql
    CREATE TABLE テーブル名 (カラム名 データ型 PRIMARY KEY);

    CREATE TABLE テーブル名 (
      カラム名 データ型,
      カラム名 データ型,
      ...
      カラム名 データ型,
      [CONSTRANINT 制約名] PRIMARY KEY(カラム名, カラム名...)
    );
  ```

## 2.ユニーク制約
- 重複する値を格納させないための制約
- 制約の対象には自動的にインデックスが作成される
- 構文
  ``` psql
    CREATE TABLE テーブル名 (カラム名 データ型 UNIQUE);

    CREATE TABLE テーブル名 (
      カラム名 データ型,
      カラム名 データ型,
      ...
      カラム名 データ型,
      [CONSTRANINT 制約名] UNIQUE (カラム名, カラム名...)
    );
  ```

## 3. NOT NULL制約
- NULL値を格納させないための制約
- 構文
  ``` psql
    CREATE TABLE名 (カラム名 データ型 NOT NULL);
  ```

## 4. 外部キー制約
- 参照テーブルに存在しない値を格納させないための制約
- 外部キーが参照するカラムには主キー制約かユニーク制約が設定されている必要がある
- 構文
  ``` psql
    CREATE TABLE テーブル名 (カラム名 データ型 REFERENCES 参照先テーブル名 (カラム名));

    CREATE TABLE テーブル名 (
      カラム名 データ型,
      カラム名 データ型,
      ...
      カラム名 データ型,
      [CONSTRAINT 制約名] FOREIGN KEY (カラム名) REFERENCES 参照先テーブル名 (カラム名, カラム名, ...)
    );
  ```

## 5. チェック制約
- ユーザが定義した条件に一致しない値を格納させないための制約
- 構文
  ``` psql
    CREATE TABLE テーブル名 (カラム名 データ型 CHECK (条件式));

    CREATE TABLE テーブル名 (
      カラム名 データ型,
      カラム名 データ型,
      ...
      カラム名 データ型,
      [CONSTRAINT 制約名] CHECK (条件式)
    );
  ```